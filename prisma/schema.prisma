// Este es tu archivo de esquema Prisma,
// aprende más al respecto en la documentación: https://pris.ly/d/prisma-schema

// Generador para el cliente Prisma
generator client {
  provider = "prisma-client-js"
}

// Fuente de datos para la base de datos MySQL
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(uuid())
  email     String   @unique
  name      String?
  posts     Post[]   @relation("UserPosts")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Post {
  id        Int      @id @default(autoincrement())
  title     String
  content   String?
  published Boolean  @default(false)
  authorId  String
  author    User     @relation(fields: [authorId], references: [id], name: "UserPosts")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// Modelo para el Productor
model Productor {
  id        Int      @id @default(autoincrement())
  nombre    String
  email     String   @unique
  telefono  String?
 
  // Otros campos específicos del Productor
  // Relación con los Pedidos
  pedidos   Pedido[]
}

// Modelo para el Transportador
model Transportador {
  id        Int      @id @default(autoincrement())
  nombre    String
  email     String   @unique
  telefono  String?
  
  // Otros campos específicos del Transportador
  // Relación con los Pedidos
  pedidos   Pedido[]
}

// Modelo para los Pedidos
model Pedido {
  id               Int      @id @default(autoincrement())
  fechaCreacion    DateTime @default(now())
  // Otros campos específicos del Pedido
  // Relación con el Productor
  productor        Productor @relation(fields: [productorId], references: [id])
  productorId      Int
  // Relación con el Transportador
  transportador    Transportador @relation(fields: [transportadorId], references: [id])
  transportadorId  Int
}
